<div class="p-6 bg-gray-100 min-h-screen">
  @if (canReadGoodsOut()) {
    <div class="flex justify-between items-center mb-6">
      <app-dashboard-content-section
        title="Goods-Out Forms Management"
        description="Manage goods-out forms in the TRICOL system."
      ></app-dashboard-content-section>

      @if (canCreateGoodsOut()) {
        <button
          (click)="openCreateDialog()"
          class="px-6 py-3 bg-blue-500 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2 shadow-md cursor-pointer"
        >
          <span class="material-icons text-xl">add</span>
          <span>Create Goods-Out Form</span>
        </button>
      }
    </div>

    @if (errorMessage()) {
      <div class="px-4 py-3 bg-red-100 text-red-600 rounded-lg text-sm mb-4 flex items-center gap-2">
        <span class="material-icons text-lg">error</span>
        <span>{{ errorMessage() }}</span>
      </div>
    }

    @if (successMessage()) {
      <div class="px-4 py-3 bg-green-100 text-green-600 rounded-lg text-sm mb-4 flex items-center gap-2">
        <span class="material-icons text-lg">check_circle</span>
        <span>{{ successMessage() }}</span>
      </div>
    }

    @if (isLoading()) {
      <div class="flex justify-center items-center py-12">
        <div class="text-gray-500 text-lg">Loading goods-out forms...</div>
      </div>
    } @else {
      <div class="bg-white rounded-lg shadow-md p-6">
        <div class="mb-4 text-sm text-gray-600">
          Total Forms: <span class="font-semibold text-gray-900">{{ goodsOutList().length }}</span>
        </div>

        <app-table [columns]="columns" [data]="displayGoodsOut()" [actions]="actions"> </app-table>
      </div>
    }
  } @else {
    <div class="flex justify-center items-center py-12">
      <div class="text-red-500 text-lg">You do not have permission to view goods-out forms.</div>
    </div>
  }
</div>
