<div class="max-w-md px-6 py-1">
  <div class="p-6">
    <div class="mb-1">
      <h2 class="text-2xl font-bold text-gray-900">Update Order Status</h2>
      <p class="text-sm text-gray-500 mt-1">Order #{{ order.id }}</p>
    </div>

    @if (errorMessage()) {
    <div class="px-4 py-3 bg-red-100 text-red-600 rounded-lg text-sm mb-4 mt-4">
      {{ errorMessage() }}
    </div>
    } @if (successMessage()) {
    <div class="px-4 py-3 bg-green-100 text-green-600 rounded-lg text-sm mb-4 mt-4">
      {{ successMessage() }}
    </div>
    }

    <form [formGroup]="statusForm" class="mt-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1.5">Status</label>
        <select
          formControlName="status"
          class="w-full px-3 py-2.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"
        >
          @for (option of statusOptions; track option.value) {
          <option [value]="option.value">{{ option.label }}</option>
          }
        </select>
        @if (statusForm.get('status')?.hasError('required') && statusForm.get('status')?.touched) {
        <span class="text-xs text-red-600 mt-1 block">Status is required</span>
        }
      </div>
    </form>

    <div class="flex justify-end gap-3 mt-6 pt-4 border-t">
      <button
        (click)="onCancel()"
        [disabled]="isLoading()"
        class="px-5 py-2.5 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-md text-sm font-medium transition-colors disabled:opacity-50"
      >
        Cancel
      </button>
      <button
        (click)="onSave()"
        [disabled]="isLoading()"
        class="px-5 py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-md text-sm font-medium transition-colors disabled:opacity-50 flex items-center gap-2"
      >
        @if (isLoading()) {
        <span class="material-icons animate-spin text-sm">refresh</span>
        }
        <span>{{ isLoading() ? 'Updating...' : 'Update Status' }}</span>
      </button>
    </div>
  </div>
</div>
